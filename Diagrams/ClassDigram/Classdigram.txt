@startuml
Class User{
    Database db
    GetMaxID()
    CalcAge()
    CreateUser()
    Login()
    Logout()
    SaveData()
    fillindata()
    updateBalance()
    SetApperanceMode()
}

Class Administrator{
    Database db
    getAllReports()
    RevokeSuspension()
    ConfirmSuspension()
    getUnverifiedDoctors()
    VerifyDoctor()
    BanDoctor()
    GetMail()
    SendMail()
}
User <|-- Administrator

Class Doctor{
    Database db
    SaveData()
    CreateDoctor()
    ReportUser()
    GetMyChatMembers()
    HandlePrescription()
    MakePrescription()
    PrescriptionGenerated()
    EndChat()
    LoadWaitingPatientRequests()
    AssignMePatient()
}
User <|-- Doctor

Class Radiologist{
    Database db
    SaveData()
    CreateRadiologist()
    PredictScanFolder()
    createcsv()
}
User <|-- Radiologist

Class Patient{
    Database db
    int BasePredictScanPrice
    int BaseChatPrice
    SystemErrors systemError
    SaveData()
    CreatePatient()
    checkRequest()
    CreateRequest()
    RequestData()
    PredictMyScan()
    SavePrediction()
    PriceInfo()
    GetDiscount()
    Subscribe()
    Purchase()
    MyPrescriptionGenerated()
    DownloadPrescription()
}
User <|-- Patient

Class Database{
    SystemConfig config
    - instance
    getInstance()
    Connect()
    Close()
    Update()
    Select()
    Insert()
    Delete()
    Commit()
}
User "*"-- "1" Database

Class Client{
    String FORMAT
    String HOST
    int PORT
    writeToServer()
    receiveFromServer()
    end()
}
Patient "1"--"1" Client
Doctor "1"--"1" Client

Class Server{
    String FORMAT
    String HOST
    int PORT
    sendToAll()
    removeClient()
    createRoom()
    clientInteraction()
    RunServer()
}
Server "1"--"*" Client

Class AdminGUI{
    WindowSettings()
    LeftSideBar()
    logout()
    select_frame_by_name()
    LoadHandleReportsFrame()
    showChat()
    Handle_Reports_button_event()
    Verify_Doctors_button_event()
    LoadVerifyDoctorsFrame()
    Zoom()
    change_appearance_mode()
    exit_function()
}
AdminGUI "1"--"*" Administrator

Class DocGUI{
    WindowSettings()
    LeftSideBar()
    logout()
    select_frame_by_name()
    LoadActiveChat()
    MyChats()
    AddtoChatMenu()
    openChat()
    ChatBoxBlock()
    PatientData()
    PatientHealthStatus()
    PatientRequestData()
    EndChatButton()
    ReportPatient()
    GeneratePrescription()
    FillMedication()
    AddNewMedication()
    DelMedications()
    FinalizePrescription()
    JoinChatServer()
    LoadBOTChatData()
    LoadChatData()
    createScanBlock()
    Zoom()
    SaveChat()
    AddLoadedChat()
    AddTochatBox()
    ChatBlock()
    sendMessage()
    NewLine()
    EndButtonEvent()
    ReportReasonBlock()
    ReportEvent()
    loadWaitingPatients()
    AssignPatient()
    loadCreditWithdraw()
    delType()
    CreditCardBlock()
    CardNumberValidation()
    CreditCardType()
    FormateCreditCard()
    HandleCVV()
    WithdrawBlock()
    AddOption()
    HandleAmount()
    RemoveAmount()
    CheckCard_button_event()
    Withdraw_button_event()
    UpdateBalanceButton()
    Active_Chats_button_event()
    PatientRequests_button_event()
    Credits_button_event()
    change_appearance_mode()
    exit_function()
}
DocGUI "1"--"*" Doctor


Class PatGUI{
    WindowSettings()
    LeftSideBar()
    logout()
    select_frame_by_name()
    LoadPredictScanFrame()
    ImportScan()
    Predict()
    Predict_Scan_button_event()
    ChatWithDoctor_button_event()
    PurchaseVIP_button_event()
    Purchase_VIP()
    AddBronzelevel()
    AddSilverlevel()
    AddGoldlevel()
    Credits_button_event()
    loadCreditRecharge()
    delType()
    CreditCardBlock()
    CardNumberValidation()
    CreditCardType()
    FormateCreditCard()
    HandleCVV()
    CheckCard_button_event()
    RechargeBlock()
    AddPlan()
    ChatWithDoctor()
    RequestScan()
    Consult()
    FillRequest()
    openChat()
    DoctorData()
    ChatBoxBlock()
    JoinChatServer()
    LoadChatData()
    SaveChat()
    AddLoadedChat()
    AddTochatBox()
    ChatBlock()
    sendMessage()
    chatwithbot()
    CustomChatGPT()
    CustomChatGPT2()
    NewLine()
    Prescriptions_button_event()
    ShowAllPrescriptions()
    PrescriptionEntry()
    exit_function()
}
PatGUI "1"--"*" Patient

Class RadioloGUI{
    WindowSettings()
    LeftSideBar()
    logout()
    LoadPredictScanFrame()
    ImportScanFolder()
    GetFullPath()
    ShowImage()
    select_frame_by_name()
    Predict_Scan_button_event()
    change_appearance_mode()
}
RadioloGUI "1"--"*" Radiologist

Class ResNET{
    residual_block()
    ResidualBlocks()
    model_base()
    init_model()
    train_model()
    evaluate_model()
    training_process()
    PredictScan()
}
Patient "*"--"1" ResNET
Radiologist "*"--"1" ResNET

Class Starter{
    WindowSettings()
    login_gui()
    ShowFrame()
    mainRegister()
    UserType()
    HoldFrame()
    patient()
    patientsHealthCheck()
    doctor()
    ImportID()
    ImportLicense()
    radiologist()
    Registerbutton()
    fetchAllData()
    dataValidator()
    emptyMainFields()
    userNameChecker()
    emailChecker()
    passwordChecker()
    phoneChecker()
    genderValid()
    CheckRadioCenter()
    fetchUserTypeData()
    insertUserInfo()
    ShowLoginFrame()
    login_verify()
    forgot_password()
    suspended()
    MoveTo()
}
RadioloGUI "1"--"1" Starter
PatGUI "1"--"1" Starter
DocGUI "1"--"1" Starter
AdminGUI "1"--"1" Starter

Class UserFactory{
    createUser()
}
RadioloGUI "1"--"1" UserFactory
PatGUI "1"--"1" UserFactory
DocGUI "1"--"1" UserFactory
AdminGUI "1"--"1" UserFactory

Doctor "1"--"1" UserFactory
Patient "1"--"1" UserFactory
Radiologist "1"--"1" UserFactory
Administrator "1"--"1" UserFactory

@enduml