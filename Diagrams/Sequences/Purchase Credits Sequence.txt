@startuml
actor       Patient       as User
boundary    PatientPage  as PatientPage
control     SystemHandler     as SystemHandler
entity      Patient as Patient



User -> PatientPage : Coin icon
PatientPage -> SystemHandler: Load Credits Frame
SystemHandler --> PatientPage : Show Credits Frame
User -> PatientPage : Hover on credit \ncard Number field
PatientPage -> SystemHandler: Verify card Number
alt Invaild card number
  SystemHandler--> PatientPage: Show Error Message "Invaild card number"
end
User -> PatientPage : Hover on CVV field
PatientPage -> SystemHandler: Verify CVV
alt Invaild CVV
  SystemHandler--> PatientPage: Show Error Message "Invaild CVV"
end
User -> PatientPage : Check Card Expiration
PatientPage -> SystemHandler: Verify a card Number
alt Invaild card date
  SystemHandler--> PatientPage: Show Error Message "Credit Card Expired"
end
User -> PatientPage : Purchase
PatientPage -> SystemHandler: Get Coin required
SystemHandler-> Patient: updateBalance()
Patient--> SystemHandler: Confirm Subscription
SystemHandler-->PatientPage:Show Info Message \n"Balance Recharge Completed"

@enduml

